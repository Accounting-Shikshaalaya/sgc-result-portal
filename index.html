<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SGC Result Portal</title>
<style>
  body {font-family: Arial,sans-serif;text-align:center;padding:20px;background:#f9f9f9;}
  .container {max-width:400px;margin:auto;background:#fff;padding:25px;border-radius:12px;box-shadow:0 4px 10px rgba(0,0,0,0.1);}
  img.logo {width:80px;margin-bottom:15px;}
  h1 {font-size:20px;margin-bottom:20px;}
  label {display:block;text-align:left;margin:10px 0 5px;font-weight:bold;}
  input, select {width:100%;padding:10px;margin-bottom:15px;border:1px solid #ccc;border-radius:6px;}
  button {width:100%;padding:12px;background:#2a73ff;color:#fff;border:none;border-radius:6px;font-size:16px;cursor:pointer;}
  button:hover{background:#1d5fe0;}
  footer {margin-top:25px;font-size:13px;color:#555;}
</style>
</head>
<body>
<div class="container">
  <img src="https://accounting-shikshaalaya.github.io/sgc-result-portal/sgc-logo.png" class="logo">
  <h1>ðŸŽ“ Satkhira Govt. College Result Portal</h1>

  <label>Roll Number:</label><input id="roll" placeholder="e.g. 101">
  <label>Class/Year:</label>
  <select id="class">
    <option value="">--Select--</option>
    <option>Hons. 1st Year</option>
    <option>Hons. 2nd Year</option>
    <option>Hons. 3rd Year</option>
    <option>Hons. 4th Year</option>
    <option>Masters Final</option>
  </select>
  <label>Verification Code:</label><input id="code" placeholder="7753">

  <button onclick="getResult()">Get Result</button>

  <div id="output"></div>
</div>
<footer>Â© Md. Shahed Mostafa Chowdhury, Lecturer, Dept. of Accounting, SGC.</footer>

<script>
async function getResult() {
  const r=document.getElementById('roll').value.trim();
  const c=document.getElementById('class').value;
  const v=document.getElementById('code').value.trim();
  if(!r||!c||!v){alert("Fill all fields!");return;}

  const url="https://script.google.com/macros/s/AKfycbxODW7DaPvNZSub3Ebgl5QZaDDxmtOI4I8u3AYCfAwk/exec";
  const proxy="https://corsproxy.io/?";
  try{
    const res=await fetch(proxy+encodeURIComponent(`${url}?roll=${r}&class=${encodeURIComponent(c)}&code=${v}`));
    const data=await res.json();
    document.getElementById('output').innerHTML=data.status==="success"?
      `<h3>Result</h3><p><b>Roll:</b> ${data.roll}</p><p><b>Name:</b> ${data.name}</p><p><b>Result:</b> ${data.result}</p>`:
      `<p style='color:red;'>${data.message||"Roll not found!"}</p>`;
  }catch(e){document.getElementById('output').innerHTML="<p style='color:red;'>Error fetching result!</p>";}
}
</script>
</body>
</html>
